!function(t){var s={};function e(o){if(s[o])return s[o].exports;var i=s[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=s,e.d=function(t,s,o){e.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,s){if(1&s&&(t=e(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var i in t)e.d(o,i,function(s){return t[s]}.bind(null,i));return o},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},e.p="",e(e.s=5)}([function(t,s){t.exports=class{constructor(){}get gameObject(){return this._gameObject||null}get transform(){return this.gameObject?this.gameObject.transform:null}update(t){}render(t){}}},function(t,s,e){const o=e(6);t.exports=class{constructor(t=0,s=0,e=0){this._transform=new o(this,t,s,e),this.gameObjects=[],this.components=[]}get gameObject(){return this}get transform(){return this._transform||null}addGameObject(t,s=!1,e=!1){let o,i,r;t.parent&&(s&&(o=t.transform.absoluteX,i=t.transform.absoluteY),e&&(r=t.transform.absoluteRotation),t.parent.removeGameObject(t)),t.parent=this,this.gameObjects.push(t),t.parent&&s&&(t.transform.absoluteX=o,t.transform.absoluteY=i),t.parent&&e&&(t.transform.absoluteRotation=r),t.transform._cacheAbsolutePosition()}removeGameObject(t){let s=this.gameObjects.indexOf(t);s>=0&&this.gameObjects.splice(s,1),t.transform._cacheAbsolutePosition()}addComponent(t){t._gameObject=this,this.components.push(t)}removeComponent(t){let s=this.components.indexOf(t);s>=0&&this.components.splice(s,1)}update(t){this.components.forEach(s=>{s.update(t)}),this.gameObjects.forEach(s=>{s.update(t)})}render(t){this.components.forEach(s=>{s.render(t)}),this.gameObjects.forEach(s=>{t.save(),t.translate(s.transform.x,-s.transform.y),t.rotate(s.transform.rotation),s.render(t),t.restore()})}}},function(t,s){t.exports=class{constructor(t,s,e){this._pressables={},document.addEventListener(t,t=>{const s=t[e],o=this._pressables[s];o&&(o._pressed=!0);for(const s in this._pressables){const e=this._pressables[s];for(const s of e._onPressDown)s(t)}}),document.addEventListener(s,t=>{const s=t[e],o=this._pressables[s];o&&(o._pressed=!1);for(const s in this._pressables){const e=this._pressables[s];for(const s of e._onPressUp)s(t)}})}}},function(t,s){t.exports=class{constructor(){this._pressed=!1,this._onPressDown=[],this._onPressUp=[]}get pressed(){return this._pressed}}},function(t,s){function e(t){t._x=Math.sin(t._angle)*t._magnitude,t._y=-Math.cos(t._angle)*t._magnitude,t._dirtyCartesian=!1}function o(t){t._magnitude=Math.sqrt(Math.pow(t._x,2)+Math.pow(t._y,2)),t._angle=Math.atan2(t._y,t._x)+Math.PI/2,t._dirtyPolar=!1}t.exports=class{constructor(){this._x,this._y,this._magnitude,this._angle,this._dirtyCartesian,this._dirtyPolar}get x(){return this._dirtyCartesian&&e(this),this._x}set x(t){this._x=t,this._dirtyPolar=!0}get y(){return this._dirtyCartesian&&e(this),this._y}set y(t){this._y=t,this._dirtyPolar=!0}get magnitude(){return this._dirtyPolar&&o(this),this._magnitude}set magnitude(t){this._magnitude=t,this._dirtyCartesian=!0}get angle(){return this._dirtyPolar&&o(this),this._angle}set angle(t){this._angle=t,this._dirtyCartesian=!0}}},function(t,s,e){const o=e(1),i=e(7),r=e(0),n=e(8),a=e(9),h=e(10),c=e(11),u=e(12),l=e(13),_=e(15),p={GameObject:o,GameLoop:i,Component:r,Components:{Camera:n,Text:a,Shape:h,Hitbox:c,Physics:u},Input:{Mouse:l},ShapeTypes:{Circle:e(17)},Coordinate:{Cartesian:e(18),Polar:e(19)},get Keyboard(){return this._keyboard||(this._keyboard=new _),this._keyboard}};window.DNA=p},function(t,s){t.exports=class{constructor(t,s=0,e=0,o=0){this._gameObject=t,this._x=s,this._y=e,this._rotation=o,this._cacheAbsolutePosition()}get gameObject(){return this._gameObject}get transform(){return this}get x(){return this._x}set x(t){this._x=t,this._absoluteDirty=!0}get y(){return this._y}set y(t){this._y=t,this._absoluteDirty=!0}get rotation(){return this._rotation}set rotation(t){this._rotation=t,this._absoluteDirty=!0}get absoluteX(){return this._absoluteDirty&&this._cacheAbsolutePosition(),this._absoluteX}set absoluteX(t){this._setAbsolutePosition(t,this.absoluteY)}get absoluteY(){return this._absoluteDirty&&this._cacheAbsolutePosition(),this._absoluteY}set absoluteY(t){this._setAbsolutePosition(this.absoluteX,t)}get absoluteRotation(){return this._absoluteDirty&&this._cacheAbsolutePosition(),this._absoluteRotation}set absoluteRotation(t){this.rotation=t-this.gameObject.parent.transform.absoluteRotation}_cacheAbsolutePosition(){const t=this.gameObject.parent?this.gameObject.parent.transform.absoluteX:0,s=this.gameObject.parent?this.gameObject.parent.transform.absoluteY:0,e=this.gameObject.parent?this.gameObject.parent.transform.absoluteRotation:0,o=Math.sin(-e),i=Math.cos(-e);this._absoluteX=this.x*i-this.y*o+t,this._absoluteY=this.x*o+this.y*i+s,this._absoluteRotation=e+this._rotation,this._absoluteDirty=!1}_setAbsolutePosition(t,s){const e=this.gameObject.parent?this.gameObject.parent.transform.absoluteX:0,o=this.gameObject.parent?this.gameObject.parent.transform.absoluteY:0,i=this.gameObject.parent?this.gameObject.parent.transform.absoluteRotation:0,r=t-e,n=s-o,a=Math.sin(i),h=Math.cos(i);this.x=r*h-n*a,this.y=r*a+n*h}}},function(t,s){t.exports=class{constructor(t){this.gameObject=t,this._currAnimationFrame=window.requestAnimationFrame(t=>{this.gameLoop(t)})}gameLoop(t){this.prevTime||(this.prevTime=t);let s=(t-this.prevTime)/1e3;return this.prevTime=t,this.gameObject.update(s),window.requestAnimationFrame(t=>{this._currAnimationFrame=this.gameLoop(t)})}}},function(t,s,e){const o=e(0);t.exports=class extends o{constructor(t,s){super(),this._canvas=t,this.ctx=t.getContext("2d"),this.root=s,this._width=t.width,this._height=t.height,this._x=this._width/2,this._y=this._height/2,this.ctx.translate(this._x,this._y)}update(){this.ctx.clearRect(-this._x,-this._y,this._width,this._height),this.ctx.save();const t=this.root.transform.absoluteX-this.transform.absoluteX,s=this.root.transform.absoluteY-this.transform.absoluteY,e=this.root.transform.absoluteRotation-this.transform.absoluteRotation;this.ctx.rotate(e),this.ctx.translate(t,-s),this.root.render(this.ctx),this.ctx.restore()}}},function(t,s,e){const o=e(0);t.exports=class extends o{constructor(t){super(),this.text=t}render(t){t.font="12px serif",t.fillStyle="black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,0,0)}}},function(t,s,e){const o=e(0);t.exports=class extends o{constructor(t){super(),this.shapeType=t}render(t){t.strokeStyle="black",this.shapeType.render(t)}}},function(t,s,e){const o=e(0);e(1);t.exports=class extends o{constructor(t,s=[]){super(),this.shapeType=t,this._hurtboxes=s,this._onHit=[],this._isHitting={}}update(t){for(const t of this._hurtboxes){if(this.shapeType.isHitting(this,t)){this._isHitting[t]=!0,t._isHitting[this]=!0;for(const s of this._onHit)s(this,t)}else this._isHitting[t]=!1,t._isHitting[this]=!1}}addOnHit(t){this._onHit.push(t)}isHitting(t){return this._isHitting[t]}}},function(t,s,e){const o=e(0);t.exports=class extends o{constructor(t,s){super(),this.x=t,this.y=s}update(t){this.gameObject.transform.x+=this.x*t,this.gameObject.transform.y+=this.y*t}}},function(t,s,e){const o=e(2),i=e(14);t.exports=class extends o{constructor(t){super("mousedown","mouseup","button"),this._x=0,this._y=0,this.camera=t,document.addEventListener("mousemove",t=>{this._onMouseMove(t)})}getButton(t){let s=this._pressables[t];return s||(s=new i,this._pressables[t]=s,s)}get x(){return this._x}get y(){return this._y}_onMouseMove(t){const s=this.camera._canvas.getBoundingClientRect();this._x=t.clientX-Math.round(s.left-.5)-this.camera._x,this._y=-(t.clientY-Math.round(s.top-.5)-this.camera._y)}}},function(t,s,e){const o=e(3);t.exports=class extends o{constructor(){super()}addMouseDown(t){this._onPressDown.push(t)}addMouseUp(t){this._onPressUp.push(t)}}},function(t,s,e){const o=e(2),i=e(16);t.exports=class extends o{constructor(){super("keydown","keyup","keyCode")}getKey(t){let s=this._pressables[t];return s||(s=new i,this._pressables[t]=s,s)}}},function(t,s,e){const o=e(3);t.exports=class extends o{constructor(){super()}addKeyDown(t){this._onPressDown.push(t)}addKeyUp(t){this._onPressUp.push(t)}}},function(t,s){t.exports=class{constructor(t){this.radius=t}render(t){t.beginPath(),t.arc(0,0,this.radius,0,2*Math.PI),t.stroke()}isHitting(t,s){return s.shapeType._isHittingCircle(s,t)}_isHittingCircle(t,s){return Math.sqrt(Math.pow(t.transform.absoluteX-s.transform.absoluteX,2)+Math.pow(t.transform.absoluteY-s.transform.absoluteY,2))<=t.shapeType.radius+s.shapeType.radius}}},function(t,s,e){const o=e(4);t.exports=class extends o{constructor(t,s){super(),this._x=t,this._y=s,this._dirtyPolar=!0}}},function(t,s,e){const o=e(4);t.exports=class extends o{constructor(t,s){super(),this._magnitude=t,this._angle=s,this._dirtyCartesian=!0}}}]);